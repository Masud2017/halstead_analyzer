cmake_minimum_required(VERSION 3.10)

# set the project name
project(halstead_analyzer VERSION 1.0)
add_executable(${PROJECT_NAME} main.c)
set(PROJECT_VERSION 1.0)
message(STATUS "Build halstead analyzer: ${PROJECT_VERSION}")


# setting the src file of the project
set(HALSTEAD_SRC src/*.c)
add_subdirectory(lib/spdlog)
add_subdirectory(lib/argparser)

#add_subdirectory(src)
add_library(${PROJECT_NAME} STATIC ${HALSTEAD_SRC} ${HALSTEAD_ALL_HEADERS})
target_include_directories(${PROJECT_NAME} PUBLIC "$<BUILD_INTERFACE:${CMAKE_CURRENT_LIST_DIR}/include>"
                                                                  "$<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}>"
	PUBLIC lib/argparser PUBLIC lib/spdlog/include
)

target_link_directories(${PROJECT_NAME}
	PRIVATE lib/argparser PRIVATE lib/spdlog/src
)


target_link_libraries(${PROJECT_NAME} spdlog argparse)
